<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} - Micachurras MCH</title>
    <!-- Tailwind CSS -->
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bungee&family=Nunito:wght@400;700&display=swap" rel="stylesheet">
    <!-- Stripe.js (necessário para checkout) -->
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body class="bg-gray-100 font-sans text-gray-900 antialiased">
    
    <!-- Header -->
    <header class="bg-mch-dark text-white shadow-md">
        <nav class="container mx-auto px-4 py-4 flex flex-wrap justify-between items-center">
            <!-- Logo -->
            <a href="{{ url_for('main.index') }}" class="text-3xl font-display font-bold text-mch-sun hover:text-mch-accent transition duration-300">
                MICACHURRAS
            </a>
            
            <!-- Links da Navegação -->
            <div class="space-x-4 flex items-center">
                <a href="{{ url_for('main.index') }}" class="hover:text-mch-accent transition duration-300">Início</a>
                <a href="{{ url_for('payment.plans') }}" class="hover:text-mch-accent transition duration-300">Planos</a>
                <!-- Links de Autenticação -->
                {% if current_user.is_authenticated %}
                    <a href="{{ url_for('account.my_account') }}" class="hover:text-mch-accent transition duration-300">Minha Conta</a>
                    <a href="{{ url_for('auth.logout') }}" class="bg-mch-accent hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition duration-300">Sair</a>
                {% else %}
                    <a href="{{ url_for('auth.login') }}" class="hover:text-mch-accent transition duration-300">Login</a>
                    <a href="{{ url_for('auth.register') }}" class="bg-mch-sun hover:bg-yellow-400 text-mch-dark font-bold py-2 px-4 rounded-lg transition duration-300">Registrar</a>
                {% endif %}
            </div>
        </nav>
    </header>

    <!-- Conteúdo Principal -->
    <main class="container mx-auto px-4 py-8 min-h-screen">
        
        <!-- Mensagens Flash -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="mb-4">
                    {% for category, message in messages %}
                        {% set color = 'blue' if category == 'info' else 'green' if category == 'success' else 'red' if category == 'danger' else 'yellow' %}
                        <div class="bg-{{ color }}-100 border-l-4 border-{{ color }}-500 text-{{ color }}-700 p-4 rounded-lg" role="alert">
                            <p>{{ message }}</p>
                        </div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}

        <!-- Bloco de Conteúdo da Página -->
        {% block content %}{% endblock %}

    </main>

    <!-- Rodapé -->
    <footer class="bg-mch-dark text-white text-center py-6 mt-12">
        <p>&copy; {{ current_year }} Micachurras MCH. Desenvolvido no condomínio.</p>
    </footer>

</body>
</html>

